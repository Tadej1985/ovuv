<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>OVUV ‚Äî Crypto Undervalued &amp; Overvalued Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="OVUV ‚Äî Discover the most undervalued and overvalued cryptocurrencies. Top 25 under and top 25 over, updated every 30 minutes using live market data from CoinCap.">

  <meta property="og:title" content="OVUV ‚Äî Crypto Undervaluation Tracker">
  <meta property="og:description" content="Top 25 undervalued &amp; overvalued cryptos, updated every 30 minutes.">
  <meta property="og:type" content="website">

  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #020617;
      --bg-alt: #0b1120;
      --card: #020617;
      --border: #1f2937;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent-green: #22c55e;
      --accent-red: #ef4444;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at top, #111827 0, var(--bg) 40%, #000 100%);
      color: var(--text);
    }
    a { color: var(--muted); text-decoration: none; }
    a:hover { text-decoration: underline; }

    header {
      padding: 1rem 1.5rem;
      background: rgba(2,6,23,0.85);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    h1 {
      margin: 0;
      font-size: 1.8rem;
      letter-spacing: -0.04em;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .brand {
      font-weight: 800;
      display: inline-flex;
      align-items: center;
      gap: 0.1rem;
    }
    .brand span {
      display: inline-block;
    }
    .brand .o { color: var(--accent-red); }
    .brand .u { color: var(--accent-green); }
    .sub {
      margin-top: 0.3rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1rem 1.5rem 3rem;
    }
    #status {
      font-size: 0.85rem;
      color: var(--muted);
      margin-bottom: 0.75rem;
    }

    .banner {
      margin: 1rem 0 1.5rem;
      padding: 0.75rem;
      border-radius: 12px;
      background: rgba(17,24,39,0.9);
      border: 1px dashed #facc15;
      text-align: center;
      font-size: 0.85rem;
      color: #facc15;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .card {
      background: rgba(2,6,23,0.9);
      border-radius: 16px;
      padding: 0.85rem 0.85rem 0.6rem;
      border: 1px solid var(--border);
      box-shadow: 0 20px 45px rgba(15,23,42,0.7);
    }

    h2 {
      margin: 0 0 0.5rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 0.12rem 0.5rem;
      border-radius: 999px;
      font-size: 0.7rem;
      border: 1px solid var(--accent-green);
      color: #bbf7d0;
      background: rgba(34,197,94,0.12);
    }
    .badge.red {
      border-color: var(--accent-red);
      color: #fecaca;
      background: rgba(239,68,68,0.12);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }
    th, td {
      padding: 0.35rem 0.45rem;
      border-bottom: 1px solid #111827;
      text-align: right;
      white-space: nowrap;
    }
    th {
      position: sticky;
      top: 0;
      background: rgba(2,6,23,0.95);
      font-weight: 600;
      z-index: 1;
      text-align: right;
    }
    th:first-child, td:first-child {
      text-align: left;
    }
    tr:nth-child(odd) {
      background: rgba(15,23,42,0.7);
    }
    tr:nth-child(even) {
      background: rgba(15,23,42,0.5);
    }
    tr:hover {
      background: #111827;
    }

    footer {
      margin-top: 1.5rem;
      font-size: 0.78rem;
      color: var(--muted);
      text-align: center;
      padding-top: 0.75rem;
      border-top: 1px solid var(--border);
    }

    @media (max-width: 768px) {
      header { padding: 0.75rem 1rem; }
      main { padding: 0.75rem 1rem 2.5rem; }
      .grid { grid-template-columns: 1fr; }
      h1 { font-size: 1.5rem; }
      table { font-size: 0.75rem; }
    }
  </style>
</head>
<body>
<header>
  <h1>
    <span class="brand">
      <span class="o">O</span>V<span class="u">U</span>V
    </span>
    <span style="font-size:0.8rem;font-weight:500;color:#9ca3af;">crypto undervaluation tracker</span>
  </h1>
  <div class="sub">
    Top 25 most undervalued &amp; top 25 most overvalued cryptocurrencies by a simple volume vs market cap model.<br>
    Updated automatically every ~30 minutes. Data from <a href="https://coincap.io" target="_blank" rel="noopener">CoinCap API</a>. Not financial advice.
  </div>
</header>

<main>
  <div id="status">Loading data‚Ä¶</div>

  <!-- Single banner ad slot -->
  <div class="banner">
    <!-- Replace this with your real banner ad code (e.g. Google AdSense) when ready -->
    Banner ad spot (e.g. 728√ó90 / responsive)
  </div>

  <div class="grid">
    <div class="card">
      <h2>üèÜ Top 25 Undervalued <span class="badge">Higher score = more undervalued</span></h2>
      <div id="under-table">Loading‚Ä¶</div>
    </div>

    <div class="card">
      <h2>‚ö†Ô∏è Top 25 Overvalued <span class="badge red">Lower score = more overvalued</span></h2>
      <div id="over-table">Loading‚Ä¶</div>
    </div>
  </div>

  <footer>
    Market data via <a href="https://coincap.io" target="_blank" rel="noopener">CoinCap API</a>.  
    Undervaluation model is experimental and for informational purposes only. This is not financial advice.
  </footer>
</main>

<script>
async function loadData() {
  const status = document.getElementById("status");
  try {
    status.textContent = "Loading data‚Ä¶";
    const res = await fetch("data.json?cb=" + Date.now());
    if (!res.ok) throw new Error("HTTP " + res.status);
    const json = await res.json();
    status.textContent = "Last updated: " + json.updated + " ‚Äî Currency: " + json.currency;
    renderTables(json.top_undervalued, json.top_overvalued);
  } catch (e) {
    console.error(e);
    status.textContent = "Error loading data: " + e.message;
  }
}

function formatNum(n) {
  const v = Number(n);
  if (!isFinite(v)) return "-";
  if (Math.abs(v) >= 1e9) return (v / 1e9).toFixed(2) + "B";
  if (Math.abs(v) >= 1e6) return (v / 1e6).toFixed(2) + "M";
  if (Math.abs(v) >= 1e3) return (v / 1e3).toFixed(2) + "K";
  return v.toFixed(2);
}

function renderTable(rows) {
  if (!rows || !rows.length) return "<p>No data.</p>";

  let html = "<div style='max-height:480px;overflow:auto;'><table><thead><tr>" +
    "<th>#</th><th>Name</th><th>Symbol</th>" +
    "<th>Price (USD)</th><th>Market Cap</th>" +
    "<th>24h Volume</th><th>Value ratio</th><th>24h %</th><th>Score</th>" +
    "</tr></thead><tbody>";

  for (const r of rows) {
    html += "<tr>" +
      `<td>${r.rank}</td>` +
      `<td>${r.name}</td>` +
      `<td>${r.symbol}</td>` +
      `<td>${Number(r.current_price).toFixed(4)}</td>` +
      `<td>${formatNum(r.market_cap)}</td>` +
      `<td>${formatNum(r.volume_24h)}</td>` +
      `<td>${Number(r.value_ratio).toFixed(6)}</td>` +
      `<td>${Number(r.momentum_24h).toFixed(2)}</td>` +
      `<td>${Number(r.undervalue_score).toFixed(3)}</td>` +
      "</tr>";
  }

  html += "</tbody></table></div>";
  return html;
}

function renderTables(under, over) {
  document.getElementById("under-table").innerHTML = renderTable(under);
  document.getElementById("over-table").innerHTML = renderTable(over);
}

loadData();
</script>
</body>
</html>
